(this.webpackJsonptestreact=this.webpackJsonptestreact||[]).push([[0],{18:function(e,t,n){e.exports={constructor:"styles_constructor__1RSyQ",changeName:"styles_changeName__2FzuU",newElementInputs:"styles_newElementInputs__niNOM",addButton:"styles_addButton__1ZZDc"}},41:function(e,t,n){},42:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(19),r=n.n(i),o=(n(41),n(42),n(71)),s=n(75),u=n(78),d=n(80),j=n(73),l=n(76),m=n(77),b=n(74),O=n(15),f=n(24),h=n(31),x=n(3),w="ADD_ITEM",p="ADD_ROW",v="UPDATE_NEW_ITEM_NAME",N="UPDATE_NEW_ITEM_COUNT",g="UPDATE_NEW_ITEM_PRICE",E="SET_TOTAL",I="DELETE_ROW",_="SET_EDIT_MODE",C="SET_EDIT_NAME",M="SAVE_EDIT_NAME",T="ADD_COUNT",P="DELETE_COUNT",y="EDIT_NAME",D={newItemName:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",newItemCount:0,newItemPrice:1,rows:[A(1,"\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440",3,11.15),A(2,"\u0422\u0435\u043b\u0435\u0432\u0438\u0437\u043e\u0440",4,45.99),A(3,"\u0425\u043e\u043b\u043e\u0434\u0438\u043b\u044c\u043d\u0438\u043a",2,17.99),A(4,"\u041d\u043e\u0443\u0442\u0431\u0443\u043a",2,11.99)],total:null,editMode:!1,name:null,editModeName:!1};function A(e,t,n,c){return{id:e,desc:t,count:n,price:c,total:function(e,t){return e*t}(n,c)}}function R(e){return e.map((function(e){return e.total})).reduce((function(e,t){return e+t}),0)}function k(e){return"".concat(e.toFixed(2))}var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=R(e.rows);switch(t.type){case w:var c={id:e.items.length+1,name:e.newItemName,count:0,price:2};return Object(x.a)(Object(x.a)({},e),{},{items:[].concat(Object(h.a)(e.items),[c]),newItemName:""});case v:return Object(x.a)(Object(x.a)({},e),{},{newItemName:t.text});case N:return Object(x.a)(Object(x.a)({},e),{},{newItemCount:t.text});case g:return Object(x.a)(Object(x.a)({},e),{},{newItemPrice:parseInt(t.text)});case E:return Object(x.a)(Object(x.a)({},e),{},{total:k(n)});case I:return Object(x.a)(Object(x.a)({},e),{},{rows:e.rows.filter((function(e){return e.desc!==t.desc}))});case p:var a=function(){return e.rows.reverse()[0].id};return Object(x.a)(Object(x.a)({},e),{},{rows:[].concat(Object(h.a)(e.rows),[A(a()+1,e.newItemName,e.newItemCount,e.newItemPrice)])});case _:return Object(x.a)(Object(x.a)({},e),{},{editMode:t.mode});case y:return Object(x.a)(Object(x.a)({},e),{},{editModeName:t.mode});case C:return Object(x.a)(Object(x.a)({},e),{},{name:t.name});case M:var i=function(t,n){return e.rows.map((function(e){return e.id===t?Object(x.a)(Object(x.a)({},e),{},{id:t,desc:n}):e}))},r=i(t.id,t.name);return Object(x.a)(Object(x.a)({},e),{},{rows:r});case T:var o=function(t,n,c){return e.rows.map((function(e){return e.id===t?Object(x.a)(Object(x.a)({},e),{},{id:t,count:n,total:c}):e}))},s=o(t.id,t.count,t.total);return Object(x.a)(Object(x.a)({},e),{},{rows:s});case P:var u=function(t,n,c){return e.rows.map((function(e){return e.id===t?Object(x.a)(Object(x.a)({},e),{},{id:t,count:n,total:c}):e}))},d=u(t.id,t.count,t.total);return Object(x.a)(Object(x.a)({},e),{},{rows:d});default:return e}},F=n(79),U=n(18),z=n.n(U),W=n(2),B=Object(o.a)({table:{minWidth:700}});var L=Object(O.c)(Object(f.b)((function(e){return{items:e.itemsPage.items,newItemText:e.itemsPage.newItemText,rows:e.itemsPage.rows,newItemPrice:e.itemsPage.newItemPrice,newItemName:e.itemsPage.newItemName,newItemCount:e.itemsPage.newItemCount,total:e.itemsPage.total,editMode:e.itemsPage.editMode,name:e.itemsPage.name,editModeName:e.itemsPage.editModeName}}),{AddRowAction:function(e,t,n){return{type:p,desc:e,count:t,price:n}},updateNewName:function(e){return{type:v,text:e}},updateNewCount:function(e){return{type:N,text:e}},updateNewPrice:function(e){return{type:g,text:e}},updateTotal:function(e){return{type:E,total:e}},deleteRow:function(e){return{type:I,desc:e}},setEditMode:function(e){return{type:_,mode:e}},editName:function(e){return{type:C,name:e}},SaveEditName:function(e,t){return{type:M,id:e,name:t}},addCount:function(e,t,n){return{type:T,id:e,count:t,total:n}},deleteCount:function(e,t,n){return{type:P,id:e,count:t,total:n}},setEditModeName:function(e){return{type:y,mode:e}}}))((function(e){var t=B(),n=a.a.createRef(),i=a.a.createRef(),r=a.a.createRef(),o=function(t){e.setEditMode(t)},O=a.a.createRef(),f=e.rows.map((function(e){return e.price})).reduce((function(e,t){return e+t}),0);return Object(c.useEffect)((function(){e.updateTotal(f)})),Object(W.jsxs)("div",{children:[Object(W.jsx)(j.a,{component:b.a,children:Object(W.jsxs)(s.a,{className:t.table,"aria-label":"spanning table",children:[Object(W.jsx)(l.a,{children:Object(W.jsxs)(m.a,{children:[Object(W.jsx)(d.a,{children:"id"}),Object(W.jsx)(d.a,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(W.jsx)(d.a,{align:"right",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0442\u0441\u0432\u043e"}),Object(W.jsx)(d.a,{align:"right",children:"\u0426\u0435\u043d\u0430 \u0437\u0430 1 \u0435\u0434\u0438\u043d\u0438\u0446\u0443"}),Object(W.jsx)(d.a,{align:"right",children:"\u0421\u0443\u043c\u043c\u0430"})]})}),Object(W.jsxs)(u.a,{children:[e.rows.map((function(t){return Object(W.jsxs)(m.a,{children:[Object(W.jsx)(d.a,{children:t.id}),Object(W.jsx)(d.a,{children:t.desc}),Object(W.jsxs)(d.a,{align:"right",children:[Object(W.jsx)(F.a,{variant:"outline-danger",size:"sm",onClick:function(){t.count>0&&function(t,n,c){e.deleteCount(t,n,c)}(t.id,t.count-1,t.count*t.price)},children:" - "})," ",t.count," ",Object(W.jsx)(F.a,{variant:"outline-success",size:"sm",onClick:function(){!function(t,n,c){e.addCount(t,n,c)}(t.id,t.count+1,t.count*t.price)},children:" + "})]}),Object(W.jsx)(d.a,{align:"right",children:t.price}),Object(W.jsx)(d.a,{align:"right",children:t.total.toFixed(2)}),Object(W.jsx)(F.a,{variant:"outline-danger",onClick:function(){var n;n=t.desc,e.deleteRow(n)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),e.editMode?Object(W.jsx)(F.a,{variant:"outline-success",onClick:function(){var n;n=t.id,e.editMode&&e.SaveEditName(n,e.name)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}):""]},t.desc)})),Object(W.jsxs)(m.a,{children:[Object(W.jsx)(d.a,{rowSpan:3}),Object(W.jsx)(d.a,{colSpan:3,children:"\u0418\u0442\u043e\u0433\u043e"}),Object(W.jsx)(d.a,{align:"right",children:e.total})]})]})]})}),Object(W.jsxs)("div",{className:z.a.constructor,children:[Object(W.jsxs)("div",{className:z.a.changeName,children:[e.editMode?"":Object(W.jsx)(F.a,{variant:"outline-info",onClick:function(){o(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),e.editMode?Object(W.jsxs)("div",{children:['\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435, \u0437\u0430\u0442\u0435\u043c \u043d\u0430\u0436\u043c\u0438\u0442\u0435 "\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435" \u0440\u044f\u0434\u043e\u043c \u0441 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ',Object(W.jsx)("input",{onChange:function(){var t=O.current.value;e.editName(t)},ref:O}),Object(W.jsx)("br",{}),Object(W.jsx)(F.a,{size:"sm",variant:"outline-info",onClick:function(){o(!1)},children:" \u041e\u0442\u043c\u0435\u043d\u0430 "})]}):""]}),Object(W.jsxs)("div",{children:[e.editModeName?Object(W.jsxs)("div",{className:z.a.newElementInputs,children:[Object(W.jsxs)("div",{children:[Object(W.jsx)("div",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),Object(W.jsx)("div",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:"}),Object(W.jsx)("div",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443:"})]}),Object(W.jsxs)("div",{children:[Object(W.jsx)("input",{onChange:function(){var t=n.current.value;e.updateNewName(t)},ref:n}),Object(W.jsx)("input",{onChange:function(){var t=i.current.value;e.updateNewCount(t)},ref:i}),Object(W.jsx)("input",{onChange:function(){var t=r.current.value;e.updateNewPrice(t)},ref:r})]})]}):"",Object(W.jsx)("div",{children:e.editModeName?Object(W.jsxs)("div",{children:[Object(W.jsx)(F.a,{className:z.a.addButton,size:"sm",variant:"outline-success",onClick:function(){e.AddRowAction(e.newItemName,e.newItemCount,e.newItemPrice)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(W.jsx)(F.a,{size:"sm",variant:"outline-info",onClick:function(){e.setEditModeName(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}):Object(W.jsx)(F.a,{variant:"outline-info",onClick:function(){e.setEditModeName(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})})]})]})]})}));var J=function(){return Object(W.jsx)("div",{className:"mainStyle",children:Object(W.jsx)(L,{})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))},Q=n(34),V=Object(O.b)({itemsPage:S}),q=Object(O.d)(V);window.store=q;var G=q;n(48);r.a.render(Object(W.jsx)(Q.a,{children:Object(W.jsx)(f.a,{store:G,children:Object(W.jsx)(J,{})})}),document.getElementById("root")),Z()}},[[50,1,2]]]);
//# sourceMappingURL=main.0cfef5a0.chunk.js.map